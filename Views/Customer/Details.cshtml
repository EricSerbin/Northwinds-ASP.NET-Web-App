@model WebApplication1.Data.Model.ModelDB.Customer

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>

<div>
    <h4>Customer</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.CompanyName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CompanyName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ContactName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ContactName)
            @Html.Hidden("HiddenName", Model.ContactName);
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ContactTitle)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ContactTitle)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Address)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Address)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.City)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.City)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Region)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Region)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PostalCode)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PostalCode)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Country)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Country)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Phone)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Phone)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Fax)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Fax)
        </dd>

    </dl>
    <div class="btn-group col-md-offset-2 col-md-6">
        @*<input type="submit" value="save" class="btn btn-success" />*@
        @* <div id="btnGetID" input type="submit" class="btn btn-dark">Get ID</div>  data-my-value="model.ContactName"  approach may also work*@
        <div id="btnGetID" class="btn btn-dark">Get ID</div>

    </div>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.ID }) |
    @Html.ActionLink("Back to List", "Index")
</p>
@section Scripts{
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(function () {
            $('#btnGetID').on("click", function () {
                
                //alert($("#ContactName").val());

                $.ajax({
                    url: "/customer/GetID",
                    type: "GET",
                    data: {
                        name: $("#HiddenName").val(),

                    },
                    dataType: "json",
                    success: function (result) {
                        
                        if (result!= null) {
                            alert("ID is "+ result);
                        }
                        else {
                            alert("no ID found, value is NULL");
                        }
                    },

                    error: function (xhr, status, error) {
                        alert("error");
                    }
                });
            });
        });
    </script>
}
